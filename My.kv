WindowManager:
    Accueil:
    User:
    MyGrid:
    Profil:
    Paswdmodif:
<Accueil>:
    name:"Accueil"
    id:main_win
    orientation : "vertical"
    spacing : 10
    space_x :self.size[0]/3
    BoxLayout:
        orientation: "vertical"
        size_hint_y : None
        height : 170
        canvas.before:
            BorderImage:
                source:'book.png'
                size:root.width ,root.height
        BoxLayout:
            orientation: "horizontal"
            spacing: 500
            size_hint_y:None
            height: 150
            Image:
                source:'Logo1.png'
                #height: dp(100)
            Image:
                source:'logo-universite-sultan-moulay-slimane-beni-mellal-usms.png'
                #height: dp(500)
                #space_x :self.size[1]/3
    BoxLayout :
        orientation : "vertical"
        padding :main_win.space_x , 200
        #spacing : 20
        BoxLayout :
            orientation : 'vertical'
            spacing: 10
            size_hint_y : None
            height : 80
            TextInput :
                id:first
                hint_text : 'Username'
                multiline : False
                focus : True
                on_text_validate: pwd_field.focus = True
            TextInput :
                id: second
                hint_text : 'Password'
                multiline : False
                password: True
        Label:
            id: sp
            size_hint_y: None
            height : 40
        Button :
            text : "SIGN_IN"
            size_hint_y :None
            height : 40
            background_color: (.50, .2, .73, 1)
            background_normal: ''
            on_release:
                a=root.signin()
                if a == 1 or a == 0 : app.root.current='User'
                elif a ==2 : app.root.current='MyGrid'
        Label:
            id: sp2
<User>:
    name:"User"
    spacing:10
    space_x:self.size[0]/3
    canvas.before:
        Color:
            rgba:(240/255,240/255,240/255,240/255)
        Rectangle:
            pos:self.pos
            size:self.size
     #   BorderImage:
      #      source:'book-in-library-with-open-textbook1.jpg'
       #     pos:self.pos
        #    size:root.width ,root.height
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            size_hint_y:.3
            BoxLayout:
                padding:20
                spacing:20
                size_hint:.15,.7
                #pos_hint_x:.3
                pos_hint:{"top":.8,"center_x":.8}
                BoxLayout:
                    Button:
                        id:profile
                        background_color:1,1,1,0
                        on_release:
                            app.root.current="Profil"
                            root.manager.transition.direction = "down"
                        Image:
                            source:'profil.png'
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y-10
            BoxLayout:
                orientation:"vertical"
                padding:20
                spacing:20
                BoxLayout:
                    BoxLayout:
                        Label:
                            text:""
                            color:0,0,0,0
                        RoundedButton:
                            id:deco
                            text:"Déconnecté"
                            #color:(0,1,1,1)
                            font_size:15
                            size_hint_y:.8
                            size_hint_x:.17
                            pos_hint:{"x":.5}
                            on_release:app.root.current="Accueil"
                BoxLayout:
                    size_hint_x:.6
                    pos_hint:{"x":.4}
                    TextInput:
                        id:book_name
                        hint_text:"books"
                        font_size:25
                        focus : True
                        multiline:False
                        pos_hint:{"x":.3}
                        on_text_validate:chercher.focus=True
                    RoundedButton:
                        id:chercher
                        size_hint_x:.4
                        text:"chercher"
                        color:(1,1,1,1)
                        on_release:root.chercher(self)
        BoxLayout:
            BoxLayout:
                padding:20
                spacing:20
                size_hint_y:.7
                size_hint_x:.4
                orientation:'vertical'
                pos_hint:{"y":.2}
                ToggleButton:
                    text:"Informatique"
                    id:info
                    size_hint_y:.09
                    font_size:25
                    border_radius:[20,20,20,20]
                    group:'list'
                    on_state:root.change_screen(self)
                ToggleButton:
                    text:"Mathématique"
                    size_hint_y:.09
                    font_size:25
                    group:'list'
                    on_state:root.change_screen
                ToggleButton:
                    text:"Physique, Chimie"
                    size_hint_y:.09
                    font_size:23
                    group:'list'
                    on_state:root.change_screen
                ToggleButton:
                    text:"Biologie, Géologie"
                    size_hint_y:.09
                    font_size:23
                    group:'list'
                    on_state:root.change_screen
                ToggleButton:
                    text:"Autre"
                    size_hint_y:.09
                    font_size:23
                    group:'list'
                    on_state:root.change_screen
                    #on_release:app.root.current="MyGrid"
            BoxLayout:
                padding:10
                spacing:3
                orientation:'vertical'
                BoxLayout:
                    id:afftable
                    padding:20
                    spacing:20
                    size_hint_y:.1
                    pos_hint:{"top":1}
                BoxLayout:
                    size_hint_y:None
                    pos_hint:{"top":0.2}
                    height:30
                    canvas.before:
                        Color:
                            rgba:(.06,.45,.45,1)
                        Rectangle:
                            size:self.size
                            pos:self.pos
                    Label:
                        id:ISBN
                        text:"ISBN"
                        size_hint_x:.15
                    Label:
                        id :Titre
                        text:"Titre"
                        size_hint_x:.4
                    Label:
                        id:Categorie
                        text:"Categorie"
                        size_hint_x:.2
                    Label:
                        id:Disponible
                        text:"Disponible"
                        size_hint_x:.25
                GridLayout
                    id:aff
                    cols:1
                    Screen:
                        id:scr_info
                        name:"scr_info"
                    Screen:
                        id:scr_math
                        name:"scr_math"
                    Screen:
                        id:scr_phy
                        name:'scr_phy'
                    Screen:
                        id:scr_bio
                        name:"scr_bio"
                    Screen:
                        id:scr_autre
                        name:"scr_autre"
<Profil>:
    name:"Profil"
    BoxLayout:
        spacing:20
        padding:20
        BoxLayout:
            id:profile
            size_hint_x:.4
            pos_hint:{"y":.2}
            Image:
                source:'profil.png'
                center_x:self.parent.center_x
                center_y:self.parent.center_y-10
        BoxLayout:
            orientation:"vertical"
            spacing:20
            padding:20
            BoxLayout:
                size_hint:.2,.8
                pos_hint:{"x":.7,"y":.1}
                Button:
                    text:"Back"
                    on_release:
                        app.root.current="User"
                        root.manager.transition.direction = "up"
            BoxLayout:
            BoxLayout:
                #pos_hint:{'x':0}
                size_hint_x:.3
                Label:
                    id :name_profil
                    text:'nome prenom'
                    color:0,0,0,1
            BoxLayout:
            BoxLayout:
                Button:
                    text:'change mode de passe'
                    size_hint_x:.2
                    on_release:
                        app.root.current='Paswdmodif'
                        root.manager.transition.direction = "down"
            BoxLayout:

<Paswdmodif>:
    name:"Paswdmodif"
    BoxLayout:
        spacing:20
        padding:20
        BoxLayout:
            id:profile
            size_hint_x:.4
            pos_hint:{"y":.2}
            Image:
                source:'profil.png'
                center_x:self.parent.center_x
                center_y:self.parent.center_y-10
        BoxLayout:
            orientation:"vertical"
            spacing:20
            padding:20
            BoxLayout:
                size_hint:.2,.5
                pos_hint:{"x":.7,"y":.1}
                Button:
                    text:"Back"
                    on_release:
                        app.root.current="Profil"
                        root.manager.transition.direction = "up"
            BoxLayout:
            BoxLayout:
                pos_hint:{'x':0.18}
                size_hint:.5,.3
                TextInput:
                    hint_text:'Last password'
                    color:0,0,0,1
            BoxLayout:
                size_hint:.5,.3
                pos_hint:{'x':0.18}
                TextInput:
                    hint_text:'new password'
                    color:0,0,0,1
            BoxLayout:
                size_hint:.5,.3
                pos_hint:{'x':0.18}
                Button:
                    text:'save'
                    size_hint_x:.2
                    #on_release:app.root.current='Paswdmodif'
            BoxLayout:





<MyGrid>:
    name:"MyGrid"
    BoxLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            size_hint_x:.3
            orientation: "vertical"
            #size: root.width, root.height
            spacing: 15
            padding: 10
            Button:
                text:"Admin"
                size_hint: (0.6 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Ajouter un livre"
                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Modifier un livre"
                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Supprimer un livre"
                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Ajouter un adhérent "
                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Modifier un adhérent"
                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Supprimer un adhérent"

                size_hint: (1 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
            Button:
                text:"Deconexion"
                size_hint: (0.6 , 0.04)
                background_color: 223/255, 35/255, 45/255, 1
                on_release:app.root.current="Accueil"
        BoxLayout:
            orientation: "vertical"
            size_hint_x:.8
            size_hint_y:.3
            pos_hint:{"y":.7}
            spacing: 20
            padding: 20
            canvas.before:
                Color:
                    rgba:1, 1,1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                orientation: "vertical"
                spacing:10
                BoxLayout:
                    Button:
                        text:"Informatique"
                        #size_hint: (0.5, 0.1)
                        background_color: 223/255, 35/255, 45/255, 1
                    Button:
                        text:"Math"
                        #size_hint: (0.4 , 0.1)
                        background_color: 223/255, 35/255, 45/255, 1
                    Button:
                        text:"PC"
                        #size_hint: (0.4 , 0.1)
                        background_color: 223/255, 35/255, 45/255, 1
                    Button:
                        text:"Bio & Gio"
                        #size_hint: (0.4 , 0.1)
                        background_color:223/255, 35/255, 45/255, 1
                    Button:
                        text:"Autres"
                        #size_hint: (0.4 , 0.1)
                        background_color: 223/255, 35/255, 45/255, 1
                BoxLayout:
                    size_hint_x:.5
                    pos_hint:{"center_x":.5}
                    TextInput:
                        text: "Recherche"
                        color: 1,1,1,1
                        background_color: 0.5,0.7,0.1 ,1
                        multiline:False
                BoxLayout:

<RoundedButton@Button>:
    background_color:(0,0,0,0)
    background_normal:''
    back_color:(.6,.3,.9,.2)
    border_radius:[20]
    canvas.before:
        Color:
            rgba:(111/255, 198/255, 219/255,1)
        RoundedRectangle:
            size:root.size
            pos:root.pos
            radius:[2,20,20,2]
<RoundedToggelButton@ToggleButton>:
    background_color:(0,0,0,0)
    background_normal:''
    back_color:(.6,.3,.9,.2)
    border_radius:[20]
    canvas.before:
        Color:
            rgba:(111/255, 198/255, 219/255,1)
        RoundedRectangle:
            size:root.size
            pos:root.pos
            radius:[2,20,20,2]
<RoundedTextInput@TextInput>
    background_color:(0,0,0,0)
    background_normal:''
    #back_color:(0,1,1,0)
    border_radius:[20,2,2,20]
    color:(1,1,1,1)
    canvas.before:
        Color:
            rgba:(1,1,1,1)
        RoundedRectangle:
            size:self.size
            pos:self.pos
            radius:self.border_radius